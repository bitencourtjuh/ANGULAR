{"ast":null,"code":"import { Subject, takeUntil } from 'rxjs';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/weather.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@fortawesome/angular-fontawesome\";\nimport * as i5 from \"../../components/weather-card/weather-card.component\";\nfunction WeatherHomeComponent_app_weather_card_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-weather-card\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"weatherDatasInput\", ctx_r1.weatherDatas);\n  }\n}\nexport class WeatherHomeComponent {\n  constructor(weatherService) {\n    this.weatherService = weatherService;\n    this.destroy$ = new Subject();\n    this.initialCityName = 'São Paulo';\n    this.searchIcon = faMagnifyingGlass;\n  }\n  ngOnInit() {\n    this.getWheatherDatas(this.initialCityName);\n  }\n  getWheatherDatas(cityName) {\n    this.weatherService.getWeatherDatas(cityName).pipe(takeUntil(this.destroy$)).subscribe({\n      next: response => {\n        response && (this.weatherDatas = response);\n        console.log(this.weatherDatas);\n      },\n      error: error => console.log(error)\n    });\n  }\n  onSubmit() {\n    this.getWheatherDatas(this.initialCityName);\n    this.initialCityName = '';\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\nWeatherHomeComponent.ɵfac = function WeatherHomeComponent_Factory(t) {\n  return new (t || WeatherHomeComponent)(i0.ɵɵdirectiveInject(i1.WeatherService));\n};\nWeatherHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WeatherHomeComponent,\n  selectors: [[\"app-weather-home\"]],\n  decls: 7,\n  vars: 3,\n  consts: [[1, \"search\"], [3, \"submit\"], [\"form\", \"ngForm\"], [\"type\", \"text\", \"placeholder\", \"Buscar localiza\\u00E7\\u00E3o\", \"name\", \"city\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"animation\", \"fade\", \"size\", \"lg\", 1, \"search-icon\", 2, \"--fa-animation-duration\", \"5s\", \"cursor\", \"pointer\", 3, \"icon\"], [3, \"weatherDatasInput\", 4, \"ngIf\"], [3, \"weatherDatasInput\"]],\n  template: function WeatherHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"submit\", function WeatherHomeComponent_Template_form_submit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function WeatherHomeComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.initialCityName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"span\", 4);\n      i0.ɵɵlistener(\"click\", function WeatherHomeComponent_Template_span_click_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelement(5, \"fa-icon\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(6, WeatherHomeComponent_app_weather_card_6_Template, 1, 1, \"app-weather-card\", 6);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.initialCityName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"icon\", ctx.searchIcon);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.weatherDatas);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.FaIconComponent, i5.WeatherCardComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAASA,OAAO,EAAEC,SAAS,QAAQ,MAAM;AACzC,SAASC,iBAAiB,QAAQ,mCAAmC;;;;;;;;;ICmBrEC,sCAA6F;;;;IAAtDA,uDAAkC;;;ADVzE,OAAM,MAAOC,oBAAoB;EAM/BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IALjB,aAAQ,GAAkB,IAAIN,OAAO,EAAE;IACxD,oBAAe,GAAG,WAAW;IAE7B,eAAU,GAAGE,iBAAiB;EAEuB;EAErDK,QAAQ;IACN,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACC,eAAe,CAAC;EAC7C;EAEAD,gBAAgB,CAACE,QAAgB;IAC/B,IAAI,CAACJ,cAAc,CAChBK,eAAe,CAACD,QAAQ,CAAC,CACzBE,IAAI,CAACX,SAAS,CAAC,IAAI,CAACY,QAAQ,CAAC,CAAC,CAC9BC,SAAS,CAAC;MACTC,IAAI,EAAGC,QAAQ,IAAI;QACjBA,QAAQ,KAAK,IAAI,CAACC,YAAY,GAAGD,QAAQ,CAAC;QAC1CE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,YAAY,CAAC;MAChC,CAAC;MACDG,KAAK,EAAGA,KAAK,IAAKF,OAAO,CAACC,GAAG,CAACC,KAAK;KACpC,CAAC;EACN;EAEAC,QAAQ;IACN,IAAI,CAACb,gBAAgB,CAAC,IAAI,CAACC,eAAe,CAAC;IAC3C,IAAI,CAACA,eAAe,GAAG,EAAE;EAC3B;EAEAa,WAAW;IACT,IAAI,CAACT,QAAQ,CAACE,IAAI,EAAE;IACpB,IAAI,CAACF,QAAQ,CAACU,QAAQ,EAAE;EAC1B;;AAjCWnB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXjCzB,8BAAoB;MACGA;QAAA,OAAU0B,cAAU;MAAA,EAAC;MACxC1B,gCAKE;MADAA;QAAA;MAAA,EAA6B;MAJ/BA,iBAKE;MAEFA,+BAA2B;MAArBA;QAAA,OAAS0B,cAAU;MAAA,EAAC;MACxB1B,6BAMW;MACbA,iBAAO;MAIXA,+FAA6F;;;MAfvFA,eAA6B;MAA7BA,6CAA6B;MAS3BA,eAAmB;MAAnBA,qCAAmB;MAMRA,eAAkB;MAAlBA,uCAAkB","names":["Subject","takeUntil","faMagnifyingGlass","i0","WeatherHomeComponent","constructor","weatherService","ngOnInit","getWheatherDatas","initialCityName","cityName","getWeatherDatas","pipe","destroy$","subscribe","next","response","weatherDatas","console","log","error","onSubmit","ngOnDestroy","complete","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/bitencourt/ANGULAR/projetos 2/weather-app/src/app/modules/wheater/page/weather-home/weather-home.component.ts","/home/bitencourt/ANGULAR/projetos 2/weather-app/src/app/modules/wheater/page/weather-home/weather-home.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subject, takeUntil } from 'rxjs';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\nimport { WeatherService } from '../../services/weather.service';\nimport { WeatherDatas } from 'src/app/models/interfaces/WeatherDatas';\n\n@Component({\n  selector: 'app-weather-home',\n  templateUrl: './weather-home.component.html',\n  styleUrls: [],\n})\nexport class WeatherHomeComponent implements OnInit, OnDestroy {\n  private readonly destroy$: Subject<void> = new Subject();\n  initialCityName = 'São Paulo';\n  weatherDatas!: WeatherDatas;\n  searchIcon = faMagnifyingGlass;\n\n  constructor(private weatherService: WeatherService) {}\n\n  ngOnInit(): void {\n    this.getWheatherDatas(this.initialCityName);\n  }\n\n  getWheatherDatas(cityName: string): void {\n    this.weatherService\n      .getWeatherDatas(cityName)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (response) => {\n          response && (this.weatherDatas = response);\n          console.log(this.weatherDatas);\n        },\n        error: (error) => console.log(error),\n      });\n  }\n\n  onSubmit(): void {\n    this.getWheatherDatas(this.initialCityName);\n    this.initialCityName = '';\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"search\">\n  <form #form=\"ngForm\" (submit)=\"onSubmit()\">\n    <input\n      type=\"text\"\n      placeholder=\"Buscar localização\"\n      name=\"city\"\n      [(ngModel)]=\"initialCityName\"\n    />\n\n    <span (click)=\"onSubmit()\">\n      <fa-icon\n        animation=\"fade\"\n        style=\"--fa-animation-duration: 5s; cursor: pointer\"\n        size=\"lg\"\n        class=\"search-icon\"\n        [icon]=\"searchIcon\"\n      ></fa-icon>\n    </span>\n  </form>\n</div>\n\n<app-weather-card *ngIf=\"weatherDatas\" [weatherDatasInput]=\"weatherDatas\"></app-weather-card>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}